---
trigger: always_on
---

1. 始终用中文回复  
2. 始终使用MCP（模型上下文协议）搜索最新信息、抓取官方内容以明确需求  
3. 始终先规划再行动  
4. 修改后，务必启动新服务器供测试  
5. 优先迭代现有代码，而非新建代码  
6. 尝试迭代现有模式前，不得大幅改变模式  
7. 启动新服务器前，必须终止之前测试创建的所有相关服务器  
8. 优先选择简单方案  
9. 尽可能避免代码重复（需检查代码库其他区域是否有类似功能）  
10. 编写代码时兼顾多环境：开发（dev）、测试（test）、生产（prod）  
11. 仅做被明确要求或完全理解且与需求强相关的修改  
12. 修复问题时：先穷尽现有实现的所有选项，再引入新模式/技术；若最终引入，必须移除旧实现以避免逻辑重复  
13. 保持代码库极度整洁有序  
14. 尽量避免在文件中写脚本（尤其仅运行一次的脚本）  
15. 文件代码不超过200-300行，超量则重构  
16. 模拟数据仅用于测试，开发/生产环境绝不使用  
17. 绝不在影响开发/生产的代码中加桩代码/假数据模式  
18. 未先询问并确认，绝不覆盖.env文件  
19. 聚焦任务相关代码，不触碰无关代码  
20. 为所有主要功能写详尽测试  
21. 功能运行稳定后，除非明确指示，不得修改其模式/架构  
22. 改代码前必想影响范围（其他函数/区域是否受影响）  
23. 测试文件放对位置  
24. 始终保持文件整洁干净  

语言与交互要求

• 在思考过程的小字中，必须用中文呈现 

• 回复内容：必须用简体中文  

• 交互方式：始终用中文解释指令、讲解技术概念  

